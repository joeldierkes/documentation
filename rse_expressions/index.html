<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="Rucio Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="Rucio Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Rucio Documentation" href="/documentation/opensearch.xml">
<link rel="stylesheet" href="/documentation/css/custom.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">RSE Expressions | Rucio Documentation</title><meta data-react-helmet="true" property="og:url" content="https://rucio.github.io/documentation/rse_expressions"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="RSE Expressions | Rucio Documentation"><meta data-react-helmet="true" name="description" content="An RSE Expression allows to select a set of RSEs, for example to"><meta data-react-helmet="true" property="og:description" content="An RSE Expression allows to select a set of RSEs, for example to"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/android-chrome-512x512.png"><link data-react-helmet="true" rel="canonical" href="https://rucio.github.io/documentation/rse_expressions"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/rse_expressions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/rse_expressions" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/documentation/assets/css/styles.ea1ffc63.css">
<link rel="preload" href="/documentation/assets/js/styles.eaa45fc4.js" as="script">
<link rel="preload" href="/documentation/assets/js/runtime~main.80d3aa50.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.e5300e7a.js" as="script">
<link rel="preload" href="/documentation/assets/js/1.d9b35000.js" as="script">
<link rel="preload" href="/documentation/assets/js/2.6583d90f.js" as="script">
<link rel="preload" href="/documentation/assets/js/303.24a52427.js" as="script">
<link rel="preload" href="/documentation/assets/js/306.d42517bd.js" as="script">
<link rel="preload" href="/documentation/assets/js/935f2afb.634b83b0.js" as="script">
<link rel="preload" href="/documentation/assets/js/17896441.53d42c58.js" as="script">
<link rel="preload" href="/documentation/assets/js/a9c70121.392744b2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a><a class="navbar__item navbar__link" href="/documentation/rucio_client_api">Client API</a><a class="navbar__item navbar__link" href="/documentation/rucio_rest_api">REST API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/documentation/rucio_client_api">Client API</a></li><li class="menu__list-item"><a class="menu__link" href="/documentation/rucio_rest_api">REST API</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">RSE Expressions</h1></header><div class="markdown"><p>An RSE Expression allows to select a set of RSEs, for example to
create replication rules. The RSE Expression consists of one or more
terms. A term can be a single RSE name or a condition over the RSE
attributes. The RSE Expression Parser resolves each term to a set of
RSEs. Terms can be connected by operators to form more complex
expressions. For example, users can write RSE expressions to address all
Tier 2 RSEs, all the RSEs in certain cloud, all Tier 2 RSEs not in
certain clouds, etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="simple-rse-expressions"></a>Simple RSE Expressions<a class="hash-link" href="#simple-rse-expressions" title="Direct link to heading">#</a></h2><p>Rucio allows to test RSE Expressions, using the command list-rses.
The most simple RSE Expression is the one containing the name of a
particular RSE.</p><ol><li><p>The following expression returns all RSEs:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0058:~$ rucio list-rses --expression </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;*&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IFIC-LCG2_LOCALGROUPDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IFAE_PRODDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PIC_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CERN-PROD_TZDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BNL-OSG2_MCTAPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BNL-OSG2_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IN2P3-CC_MCTAPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CERN-PROD_DERIVED</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CERN-PROD_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">UAM-LCG2_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IFIC-LCG2_DATADISK LIP-COIMBRA_LOCALGROUPDISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li><p>Whereas the next expression only returns a set containing a single
RSE:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0058:~$ rucio list-rses --expression</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ELA-UNLP_SCRATCHDISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li><p>Another simple RSE Expression allows to list the set of all the RSEs
in a particular site:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0058:~$ rucio list-rses --expression </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">site</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">EELA-UNLP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_PRODDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_SCRATCHDISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li><p>Or all the RSEs who\&#x27;s type is SCRATCHDISK:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0058:~$ rucio list-rses --expression </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">type</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">UNI-SIEGEN-HEP_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NCG-INGRID-PT_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INFN-T1_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FMPHI-UNIBA_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INFN-FRASCATI_SCRATCHDISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li><p>Or all the Spanish sites:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0058:~$ rucio list-rses --expression SPAINSITES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IFIC-LCG2_LOCALGROUPDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IFAE_PRODDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PIC_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">UAM-LCG2_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IFIC-LCG2_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">LIP-COIMBRA_LOCALGROUPDISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li><li><p>Also numerical comparisons with \&lt; and \are possible:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0058:~$ rucio list-rses --expression </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;freespace3000&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CERN-PROD_TZDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BNL-OSG2_MCTAPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BNL-OSG2_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IN2P3-CC_MCTAPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CERN-PROD_DERIVED</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CERN-PROD_DATADISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li></ol><p>Note that if the RSE Expression returns an empty set, Rucio returns an
error as an RSE Expression must resolve to at least one RSE. Thus, an
error does not necessarily mean that the syntax of the expression is
wrong, it might just result into an empty list.</p><p>In 3) and 4), the RSE Expression refers to an attribute in the RSE that
must be equal to a given value to match the expression. While in 2) and
5), the expression matches an RSE if the attribute is True. In 6) a
numerical term is used to resolve all RSEs with more than 3000 TB free
space. It is possible to see the list of attributes for a particular RSE
with Rucio:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rse-attributes EELA-UNLP_SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ftstesting: https://fts3-pilot.cern.ch:8446</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ALL: True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ESTIER2S: True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">physgroup: None</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spacetoken: ATLASSCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fts: https://fts3.cern.ch:8446,https://lcgfts3.gridpp.rl.ac.uk:8446,https://fts.usatlas.bnl.gov:8446</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">site: EELA-UNLP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">EELA-UNLP_SCRATCHDISK: True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">datapolicyt0disk: False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cloud: ES</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SPAINSITES: True</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">datapolicyt0taskoutput: False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fts_testing: https://fts3-pilot.cern.ch:8446</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tier: </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">datapolicyt0tape: False</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">type: SCRATCHDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">istape: False</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Most of the RSEs share the same set of attributes, and is possible to
create RSE Expressions based on all of them.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="operators"></a>Operators<a class="hash-link" href="#operators" title="Direct link to heading">#</a></h2><p>Operators are used to connect terms in order to get more complex RSE
Expressions/terms. The syntactic functionality of the Rucio RSE
Expressions Parser allows the basic operations defined in mathematical
set theory, Union, Intersection and Complement. Using an operator on two
sets of RSEs will construct a new set based on the given sets.</p><p>The symbols A and B in this table stand for a term.</p><p>Operator Meaning Interpretation Example</p><hr><p>A|B UNION A union B EELA-UNLP_SCRATCHDISK | EELA-UNLP_PRODDISK
A&amp;B INTERSECT A intersect B tier=1&amp;country=us
A\B COMPLEMENT A complement B cloud=ES\type=SCRATCHDISK</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="composing-rse-expressions"></a>Composing RSE Expressions<a class="hash-link" href="#composing-rse-expressions" title="Direct link to heading">#</a></h2><p>Using the operators described above, it\&#x27;s possible to create
expressions to select whatever RSE you need to put your data in. Use the
following list of examples to build your own RSE Expressions.</p><p>All Tier 2 sites in DE cloud:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;tier=2&amp;cloud=DE&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PRAGUELCG2_PPSLOCALGROUPDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">FMPHI-UNIBA_LOCALGROUPDISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">UNI-FREIBURG_DATADISK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DESY-HH_PRODDISK</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Note the use of the single quotes. Single quotes are needed to avoid the
shell interpret the &amp;, the | or the \ as commands.</p><p>All tier 1 but not the ones in country=us:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;tier=1\country=us&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">INFN-T1_MCTAPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BNL-OSG2_DATATAPE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BNL-OSG2_DDMTEST</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NIKHEF-ELPROD_PHYS-SUSY</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>However, take care of the subtle differences. While the first expression
exclude United States\&#x27; sites, the second doesn\&#x27;t:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;tier=1\country=us&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token function" style="color:rgb(130, 170, 255)">wc</span><span class="token plain"> -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">115</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;tier=1\country=US&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token function" style="color:rgb(130, 170, 255)">wc</span><span class="token plain"> -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">117</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The filters are processed from left to right. Is possible to use
parenthesis to force the order of operation. See the following example
to get all the SCRATCHDISKs in IT or FR clouds:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;cloud=IT|cloud=FR&amp;type=SCRATCHDISK&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wc</span><span class="token plain"> -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;(cloud=IT|cloud=FR)&amp;type=SCRATCHDISK&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wc</span><span class="token plain"> -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;type=SCRATCHDISK&amp;(cloud=IT|cloud=FR)&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wc</span><span class="token plain"> -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jbogadog@lxplus0100:~$ rucio list-rses --expression </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;type=SCRATCHDISK&amp;cloud=IT|cloud=FR&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">wc</span><span class="token plain"> -l</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">92</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>While the first three operations are equivalent, the last return sites
in cloud FR but not only the SCRATCHDISKs but the GROUPDISKs and
DATADISKs too, among other types.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/rucio/documentation/tree/main/docs/../docs/rse_expressions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-02-07T10:32:13.000Z" class="lastUpdatedDate_nN9m">2/7/2022</time> by <strong>Martin Barisits</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#simple-rse-expressions" class="table-of-contents__link">Simple RSE Expressions</a></li><li><a href="#operators" class="table-of-contents__link">Operators</a></li><li><a href="#composing-rse-expressions" class="table-of-contents__link">Composing RSE Expressions</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2021 CERN</div></div></div></footer></div>
<script src="/documentation/assets/js/styles.eaa45fc4.js"></script>
<script src="/documentation/assets/js/runtime~main.80d3aa50.js"></script>
<script src="/documentation/assets/js/main.e5300e7a.js"></script>
<script src="/documentation/assets/js/1.d9b35000.js"></script>
<script src="/documentation/assets/js/2.6583d90f.js"></script>
<script src="/documentation/assets/js/303.24a52427.js"></script>
<script src="/documentation/assets/js/306.d42517bd.js"></script>
<script src="/documentation/assets/js/935f2afb.634b83b0.js"></script>
<script src="/documentation/assets/js/17896441.53d42c58.js"></script>
<script src="/documentation/assets/js/a9c70121.392744b2.js"></script>
</body>
</html>